# Many tips from:
# https://www.masteringemacs.org/article/keyboard-shortcuts-every-command-line-hacker-should-know-about-gnu-readline

set keyseq-timeout 1200

set bell-style none

set blink-matching-paren on

set colored-stats on
set colored-completion-prefix on
set completion-ignore-case on
set completion-map-case on

set mark-symlinked-directories on
set show-all-if-ambiguous on
set show-all-if-unmodified on
set skip-completed-text on

# Quote the current or previous word
"\C-x\"": "\eb\"\ef\""

$if Bash
# C-x o wraps a command in $( ... )
"\C-xq": "\C-a\$(\C-e)"
# C-x f wraps a command in $( .... | fzf)
"\C-xf": "\C-e | fzf)\C-a $(\C-a"
"\C-xF": "\C-e | fzf -m)\C-a $(\C-a"
# C-M-o expands
"\e\C-o": dabbrev-expand
# C-x a expands alias
"\C-xa": alias-expand-line

"\C-xq": quoted-insert

"\C-xc": "\C-acat \C-e"
"\C-xC": "\C-a\edcat\C-e"
"\C-xl": "\C-aless \C-e"
"\C-xL": "\C-a\edless\C-e"
"\el": "\C-e | less"
"\C-xp": "\C-e | $PAGER"
"\C-xm": "\C-aman \C-e"
"\C-xs": "\C-asudo \C-e"

# Edit the path
"\C-x\C-p": "PATH=${PATH}\e\C-e\C-a\ef\C-f"

$endif

$if Python
# C-x h wraps prompt in help( ... )
"\C-xh": "\C-ahelp(\C-e)"
# C-x d wraps prompt in dir( ... )
"\C-xd": "\C-adir(\C-e)"
# Quote the current or previous word
"\C-x'": "\e'\ef'"
$endif

"\ep": history-search-backward
"\en": history-search-forward

"\C-xP": print-last-kbd-macro

# C-M-f and C-M-v dump functions and variables.
"\e\C-f": dump-functions
"\e\C-v": dump-variables

"\e\C-h": "\e\C-]/\C-f\e\C-d"
